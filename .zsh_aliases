# Quick folder jumps
alias '..'='cd ..'
alias -g ...='../..'
alias -g ....='../../..'
alias -g .....='../../../..'
alias -g ......='../../../../..'

# Common pipiline actions
alias -g G='| grep -i'
alias -g L='| less'
alias -g C='| wc -l'
alias -g S='| sort'
alias -g U='| sort | uniq'

# When you are too tired to recognize shell from VIM
alias :e="vim"
alias :q="exit"

# Enable verbose mode for common commands
alias ls='ls -FlhG'
alias rm="/bin/rm -rvf"
alias mv="/bin/mv -v"
alias cp="/bin/cp -Rv"
alias scp="/usr/bin/scp -r"
alias json="python -m json.tool | pygmentize -l json"

# Git time savers
alias ga="git add . -N"
alias gap="git add -p"
alias gb="git branch -a"
alias gbs="git checkout \$(git branch | cut -c 3- | fzy); git pull; gc"
alias gf='PATH=$PATH:~/.gitconfig.d/bin/icdiff git icdiff'
alias gfc='PATH=$PATH:~/.gitconfig.d/bin/icdiff git icdiff --cached'
alias gp="git push || (git pull && git push)"
alias gm="git merge"
alias gr="git reset HEAD~1"
alias gc="git branch --merged | egrep -v '(^\*|master|develop)' | xargs git branch -d"
alias gs="git status --ignore-submodules -sb"
alias gco="git checkout -f"
alias gi="git commit"
alias gl="git log --graph --topo-order --abbrev-commit --date=short --decorate --boundary --pretty=format:'%Cgreen%ad %Cred%h%Creset%C(yellow)%d%Creset %s %Cblue[%cn]%Creset' "
alias glc="git rev-parse --short HEAD | tr -d '\n' | pbcopy || git rev-parse --short HEAD"

# Start tmux session for current folder with custom configuration
function workon() {
  tmuxinator start project
}

alias vim="/usr/local/bin/nvim"
alias vi="/usr/local/bin/nvim"
alias rg="rg -i -g '!*node_modules*'"
alias go='cd "$(find ~ -not -path '"'"'*/\.*'"'"' -not -path '"'"'*/media/*'"'"' -not -path '"'"'*/assets/*'"'"' -not -path '"'"'*/static/*'"'"' -not -path '"'"'*/Library/*'"'"' -type d -maxdepth 3 | fzy)"'

# NVM is too slow to be added to every zsh session, so it could be loaded any time needed
function load_nvm() {
  export NVM_DIR="$HOME/.nvm"
  [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
  [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
  nvm use v10.21.0
}
